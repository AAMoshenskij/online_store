{
    "name": "clickhouse-sink",
    "config": {
        "connector.class": "com.clickhouse.kafka.connect.ClickHouseSinkConnector",
        "tasks.max": "1",
        "topics": "online_store.public.users,online_store.public.sellers,online_store.public.products,online_store.public.product_variants,online_store.public.orders,online_store.public.order_items",
        "clickhouse.hosts": "clickhouse:8123",
        "clickhouse.database": "online_store",
        "clickhouse.username": "default",
        "clickhouse.password": "",
        "clickhouse.ssl.enabled": "false",
        "key.converter": "org.apache.kafka.connect.json.JsonConverter",
        "value.converter": "org.apache.kafka.connect.json.JsonConverter",
        "key.converter.schemas.enable": "false",
        "value.converter.schemas.enable": "false",
        "transforms": "unwrap,tableMapping",
        "transforms.unwrap.type": "io.debezium.transforms.ExtractNewRecordState",
        "transforms.unwrap.drop.tombstones": "false",
        "transforms.unwrap.delete.handling.mode": "rewrite",
        "transforms.tableMapping.type": "org.apache.kafka.connect.transforms.RegexRouter",
        "transforms.tableMapping.regex": "online_store.public.(.*)",
        "transforms.tableMapping.replacement": "dim_$1",
        "behavior.on.null.values": "ignore",
        "table.name.format": "${topic}",
        "insert.mode": "upsert",
        "pk.mode": "record_key",
        "delete.enabled": "true",
        "errors.tolerance": "all",
        "errors.log.enable": "true",
        "errors.log.include.messages": "true",
        "table.mapping": {
            "online_store.public.users": "dim_users",
            "online_store.public.sellers": "dim_sellers",
            "online_store.public.products": "dim_products",
            "online_store.public.product_variants": "dim_product_variants",
            "online_store.public.orders": "fact_orders",
            "online_store.public.order_items": "fact_order_items"
        }
    }
} 